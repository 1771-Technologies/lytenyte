---
title: Column Groups
step: Create a column header hierarchy and associate columns with column groups.
description: LyteNyte Grid lets you organize columns into groups to create visual
  relationships between related columns. Each column belongs to one
  group, and groups may contain nested groups to form hierarchies.
---

## Creating a Column Group

Create column groups in LyteNyte Grid by setting the `groupPath`
property on each column. The grid builds a hierarchy from the
`groupPath` values across all columns. The demo below shows a basic
column group setup.

::demo[Column Groups="./demos/column-groups"]

Columns stay as a flat array, even when grouped. LyteNyte Grid creates
the hierarchy by joining each column's group path. Columns with the
same group path belong to the same group. In the example below, the
**Symbol**, **Network**, and **Exchange** columns all belong to the
**Market Info** group.

```ts
const columns: Column<DEXPerformanceData>[] = [
  {
    id: "symbol",
    name: "Symbol",
    groupPath: ["Market Info"],
  },
  {
    id: "network",
    name: "Network",
    groupPath: ["Market Info"],
  },
  {
    id: "exchange",
    name: "Exchange",
    groupPath: ["Market Info"],
  },
  // other columns
];
```

Columns do not need to belong to a group. If a column has no group path,
its header cell spans the full height of the header.

### Split Column Groups

LyteNyte Grid uses the `groupPath` property to identify column groups.
A group appears split when columns from different groups are placed between its members.
Although the group remains a single logical entity, it renders as multiple visual segments.
When you move separated columns next to each other, the grid automatically merges the segments.

Pinned columns always appear visually separate from non-pinned columns,
even when they share a group.

The demo below shows this behavior. The **Market Info** and
**Performance** groups are split visually but remain single logical
groups.

::demo[Split Column Groups="./demos/column-groups-split"]

## Multiple Column Group Levels

The `groupPath` property is an array of strings. Each string represents
a grouping level. Adding more entries creates deeper nesting. The demo
below illustrates multiple group levels:

::demo[Multiple Group Levels="./demos/column-groups-multiple-levels"]

Each grouping level creates a new header row. The longest `groupPath`
in the grid determines the number of header rows.

## Column Groups & Pinned Columns

Pinned columns can still belong to a group. Pinned columns create a
split boundary, so the grid treats them as visually separate even if
they are adjacent to other group members. The example below shows this:

::demo[Pinned Column Groups="./demos/column-groups-expansions-pinned"]

Set the `pin` property to `"start"` or `"end"` to pin a column to the
start or end of the viewport. For details, see the
[Column Pinning guide](/docs/column-pinning).

## Column Group Expansions

Column groups become collapsible when you use the `groupVisibility`
property, which controls when each column is visible:

- `"open"`: Visible only when the group is expanded.
- `"closed"`: Visible only when the group is collapsed.
- `"always"`: Always visible.

A group becomes collapsible when at least one column is visible in the
collapsed state and at least one is visible in the expanded state.

In the demo below, the **Market Info** and **Performance** groups are
collapsible. The **Market Info** group starts collapsed. Click the
chevron to expand it.

::demo[Column Group Expansion="./demos/column-groups-expansions"]

The demo uses a custom header renderer to manage the column group expansion state.
A simplified implementation is shown below. Notice the call
to `api.columnToggleGroup`. You can use this method to programmatically toggle the
column group expansion state.

```tsx
export function HeaderGroupCell({
  groupPath,
  api,
  collapsible,
  collapsed,
}: Grid.T.HeaderGroupParams<GridSpec>) {
  return (
    <>
      <div>{groupPath.at(-1)!}</div>
      {/*!next */}
      <button onClick={() => api.columnToggleGroup(groupPath)}>
        {collapsible && collapsed && <ChevronRightIcon />}
        {collapsible && !collapsed && <ChevronLeftIcon />}
      </button>
    </>
  );
}
```

### Default Group Expansion

Collapsible groups are expanded by default. Use the
`columnGroupDefaultExpansion` property to change this. Setting it to
`false` will collapse column groups by default:

::demo[Default Expansion State="./demos/column-groups-default-expansions"]

You can also provide explicit initial expansion states. To do this, you
must know how LyteNyte Grid generates group IDs.

Group IDs come from joining the `groupPath` array with a delimiter. The
default delimiter is `-->`, but you can change it using
`columnGroupJoinDelimiter`. For example:

```ts
["Market Info"]; // "Market Info"
["Market Info", "Location"]; // "Market Info-->Location"
```

With this information, you can set expansion states directly:

```ts
const grid = Grid.useLyteNyte({
  // Other grid props
  columnGroupExpansions: { "Market Info": false },
});
```

## Sticky Group Labels

Some groups contain many columns, and horizontal scrolling can hide the
group label. LyteNyte Grid allows you to style header cells so the
label remains visible. The demo below shows this behavior. Try scrolling
horizontally and observe that the **Market Info** label remains in view.

::demo[Sticky Group Labels="./demos/column-groups-sticky"]

The implementation is simple. The important part is the `styles` override.
`Grid.HeaderGroupCell` uses `position: relative` and `overflow: hidden` by default.
In this case, overriding those defaults is appropriate. Since pinned columns may be
pinned to the start, we use the `--ln-start-offset` variable. This variable equals
the total width (in pixels) of the columns pinned to the
start. LyteNyte Grid sets `--ln-start-offset` on the grid viewport.

```tsx
<Grid
  columns={columns}
  columnBase={base}
  rowSource={ds}
  columnGroupRenderer={HeaderGroupCell}
  //!next 5
  styles={{
    headerGroup: {
      style: { position: "sticky", insetInlineStart: "var(--ln-start-offset)", overflow: "unset" },
    },
  }}
/>
```

## Next Steps

::next[/docs/column-resizing]
::next[/docs/column-header-name]
::next[/docs/column-pinning]
::next[/docs/column-field]
