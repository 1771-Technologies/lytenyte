---
title: TypeScript
description: LyteNyte Grid provides first-class TypeScript support. This guide covers best practices
  for working with TypeScript to extend LyteNyte Grid's column and API interfaces, and to avoid errors
  by type checking your code properly.
---

## The Main Grid Types

There are five primary types to know about when working with LyteNyte Grid:

- [`Grid.GridSpec`](/docs/reference): A type that is used as a generic type constraint for some of the other type interfaces
  in the grid.
- [`Grid.Props`](/docs/reference): The interface that describes the props that the `<Grid />`
  component accepts.
- [`Grid.Column`](/docs/reference): The base interface for a column in LyteNyte Grid.
- [`Grid.API`](/docs/reference): The interface that describes the base LyteNyte Grid API.
- [`RowSource`](/docs/reference): The base interface for a row data source that you can provide to the grid. All row data sources
  extend this base type.

You do not need to memorize these types. Understanding how these types fit
together will help you get the most out of TypeScript and LyteNyte Grid.

## The Grid Specification

Of the five primary types, developers usually define `Grid.GridSpec`. `Grid.GridSpec` is a type constraint used by the other grid types,
and LyteNyte Grid does not use it directly at runtime. The base definition looks like this:

```ts
export interface GridSpec<
  Data = unknown,
  ColExt extends Record<string, any> = object,
  Source extends RowSource<Data> = RowSource,
  Ext extends Record<string, any> = object,
> {
  readonly data?: Data;
  readonly column?: ColExt;
  readonly source?: Source;
  readonly api?: Ext;
}
```

The grid specification has four optional type parameters and four optional properties.
Each property extends the grid's typing in a specific way.

- The `Data` type describes the shape of the row data that the grid receives.
  For example, if the row data is a `number[]`, define the grid spec like this:

  ```ts
  interface GridSpec {
    readonly data: number[];
  }
  ```

- The `ColExt` type describes additional properties you want to add to columns.
  LyteNyte Grid combines these additional properties with the base
  `Grid.Column` type. For example, the code below shows two equivalent definitions:

  ```ts
  interface GridSpec {
    readonly column: { readonly sort?: "asc" | "desc" | null };
  }

  type ColumnWithSort = Grid.Column<GridSpec>;

  interface ColumnWithSort extends Grid.Column {
    readonly sort?: "asc" | "desc" | null;
  }
  ```

  The `GridSpec` approach is recommended because it keeps column
  extensions and row data typing in one place.

- The `Source` type describes the row data source you provide. Each row data source shares common capabilities,
  but each source type also adds source-specific capabilities and functions.
  The `source` property exposes those capabilities through the grid types.
  The code below shows an example using the `RowSourceServer` type from the
  [server row data source](/docs/server-data-loading-overview):

  ```ts
  interface GridSpec {
    readonly source: RowSourceServer;
  }
  ```

- The `Ext` type describes the API extensions that you provide through the `apiExtension` property
  on the grid. Use `Ext` to add user-defined functions and state to
  the grid's API. When you type `Ext` on the grid spec, you extend the API type.

  LyteNyte Grid also extends the API type with the provided `Source` type,
  so the final API type is the combination: `Grid.API & Source & Ext`.

  The code below shows an example that adds a `notifyUser` method to LyteNyte Grid's API:

  ```ts
  interface GridSpec {
    readonly api: { notifyUser: (msg: string) => void };
  }
  ```

You can combine all properties to create a full set of specified grid types. In the example
below, each part of the `GridSpec` is defined and used with the main types used by LyteNyte Grid:

```ts
interface GridSpec {
  readonly data: number[];
  readonly column: { readonly sort?: "asc" | "desc" | null };
  readonly source: RowSourceServer;
  readonly api: { notifyUser: (msg: string) => void };
}

type Props = Grid.Props<GridSpec>;
type Column = Grid.Column<GridSpec>;
type API = Grid.API<GridSpec>;
```

With these types defined, you can define derived types for specific properties.
For example, you can create renderer types like this:

```ts
type CellRenderer = Required<Grid.Column<GridSpec>>["cellRenderer"];
type HeaderRenderer = Required<Grid.Column<GridSpec>>["headerRenderer"];
```

## Grid is a Namespace and Component

The `Grid` export in LyteNyte Grid is both the root component and a type namespace.
The namespace contains all the types used by LyteNyte Grid's publicly exposed functions
and components. This means the following code is valid:

```tsx
function GridWrapper<K extends Grid.GridSpec>(props: Grid.Props<K>) {
  return <Grid {...props} />;
}
```

This guide does not cover the details of why this works in
TypeScript, but you do not need to actively think about it.
TypeScript does not allow `Grid` itself to be used as a type,
so TypeScript prevents misuse in places where a type is
expected. For example, this code fails type checking:

```ts
type MyGrid = Grid;
```

### The Component and T Type Namespaces

The `Grid` type namespace has two sub-namespaces for types that are less frequently used:

- `Grid.T`: Defines auxiliary types used by the various functions and renderers of LyteNyte Grid,
  for example `Grid.T.HeaderParams`.
- `Grid.Component`: Defines the props for the various headless component parts that make up the grid.

The `Grid.T` namespace is most useful when defining custom components. For example, the following
two cell renderer definitions are equivalent. The method you choose is developer preference.

```ts
interface Spec {
  readonly data: number[];
}

//!next
export const MyCell: Grid.Column<Spec>["Cell"] = (props) => {
  // my component definition
};

//!next
export function MyCell2(props: Grid.T.CellRendererParams<Spec>) {
  // my component definition
}
```

## Next Steps

::next[/docs/intro-getting-started]
::next[/docs/grid-reactivity]
::next[/docs/grid-api-extensions]
